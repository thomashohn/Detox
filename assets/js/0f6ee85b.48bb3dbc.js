"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7249],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>w});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},b=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=p(n),b=i,w=d["".concat(s,".").concat(b)]||d[b]||m[b]||l;return n?a.createElement(w,r(r({ref:t},c),{},{components:n})):a.createElement(w,r({ref:t},c))}));function w(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=b;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:i,r[1]=o;for(var p=2;p<l;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},8132:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const l={},r="Web views",o={unversionedId:"api/webviews",id:"api/webviews",title:"Web views",description:"Detox supports testing web views on Android only. We are working on adding support for iOS apps as well.",source:"@site/../docs/api/webviews.md",sourceDirName:"api",slug:"/api/webviews",permalink:"/Detox/docs/next/api/webviews",draft:!1,editUrl:"https://github.com/wix/Detox/edit/master/docs/../docs/api/webviews.md",tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"Expect",permalink:"/Detox/docs/next/api/expect"},next:{title:"Logger",permalink:"/Detox/docs/next/api/logger"}},s={},p=[{value:"Locating web view elements",id:"locating-web-view-elements",level:2},{value:"<code>web.element(matcher)</code>",id:"webelementmatcher",level:3},{value:"<code>web(nativeMatcher).element(matcher)</code>",id:"webnativematcherelementmatcher",level:3},{value:"Matchers",id:"matchers",level:2},{value:"<code>by.web.id(id)</code>",id:"bywebidid",level:3},{value:"<code>by.web.className(className)</code>",id:"bywebclassnameclassname",level:3},{value:"<code>by.web.cssSelector(cssSelector)</code>",id:"bywebcssselectorcssselector",level:3},{value:"<code>by.web.name(name)</code>",id:"bywebnamename",level:3},{value:"<code>by.web.xpath(xpath)</code>",id:"bywebxpathxpath",level:3},{value:"<code>by.web.href(href)</code>",id:"bywebhrefhref",level:3},{value:"<code>by.web.hrefContains(href)</code>",id:"bywebhrefcontainshref",level:3},{value:"<code>by.web.tag(tag)</code>",id:"bywebtagtag",level:3},{value:"<code>atIndex(index)</code>",id:"atindexindex",level:3},{value:"Actions",id:"actions",level:2},{value:"<code>tap()</code>",id:"tap",level:3},{value:"<code>typeText(text[, isContentEditable])</code>",id:"typetexttext-iscontenteditable",level:3},{value:"<code>replaceText(text)</code>",id:"replacetexttext",level:3},{value:"<code>clearText()</code>",id:"cleartext",level:3},{value:"<code>selectAllText()</code>",id:"selectalltext",level:3},{value:"<code>getText()</code>",id:"gettext",level:3},{value:"<code>scrollToView()</code>",id:"scrolltoview",level:3},{value:"<code>focus()</code>",id:"focus",level:3},{value:"<code>moveCursorToEnd()</code>",id:"movecursortoend",level:3},{value:"<code>runScript(script[, args])</code>",id:"runscriptscript-args",level:3},{value:"<code>getCurrentUrl()</code>",id:"getcurrenturl",level:3},{value:"<code>getTitle()</code>",id:"gettitle",level:3},{value:"Expectations",id:"expectations",level:2},{value:"<code>toHaveText(text)</code>",id:"tohavetexttext",level:3},{value:"<code>toExist()</code>",id:"toexist",level:3},{value:"<code>not</code>",id:"not",level:3}],c={toc:p},d="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"web-views"},"Web views"),(0,i.kt)("admonition",{title:"Note",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Detox supports testing web views on ",(0,i.kt)("strong",{parentName:"p"},"Android")," only. We are working on adding support for iOS apps as well.")),(0,i.kt)("p",null,"A web view is a native component that displays content not available in a native format, such as a web page or a PDF document."),(0,i.kt)("p",null,"Elements inside web views, however, are not native components, so Detox cannot interact with them the usual way.\nThat's why Detox provides a set of matchers, actions, and expectations to allow you to interact with the content inside web views."),(0,i.kt)("h2",{id:"locating-web-view-elements"},"Locating web view elements"),(0,i.kt)("h3",{id:"webelementmatcher"},(0,i.kt)("inlineCode",{parentName:"h3"},"web.element(matcher)")),(0,i.kt)("p",null,"In the most common case, you will have a single web view on the screen, so you can use ",(0,i.kt)("inlineCode",{parentName:"p"},"web.element()")," function with ",(0,i.kt)("a",{parentName:"p",href:"/Detox/docs/next/api/webviews#matchers"},"web view matchers")," to reference elements inside it. After you have a reference to a web element, you can use the ",(0,i.kt)("a",{parentName:"p",href:"/Detox/docs/next/api/webviews#actions"},"web view actions")," and ",(0,i.kt)("a",{parentName:"p",href:"/Detox/docs/next/api/webviews#expectations"},"web view expectations")," on it, e.g.:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const innerElement = web.element(by.web.id('inner_element_identifier'))\nawait expect(innerElement).toHaveText('Hello World!');\n")),(0,i.kt)("p",null,"The code above finds an inner element by HTML ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," attribute, and expects it to have a specific text."),(0,i.kt)("h3",{id:"webnativematcherelementmatcher"},(0,i.kt)("inlineCode",{parentName:"h3"},"web(nativeMatcher).element(matcher)")),(0,i.kt)("p",null,"If you have multiple web views on the screen, you must locate a specific web view first by using a ",(0,i.kt)("a",{parentName:"p",href:"/Detox/docs/next/api/matchers"},"native matcher"),", e.g.:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const myWebView = web(by.id('webview_identifier'));\nconst innerElement = myWebView.element(by.web.id('inner_element_identifier'))\nawait expect(innerElement).toHaveText('Hello World!');\n")),(0,i.kt)("p",null,"In the example above:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"We use ",(0,i.kt)("inlineCode",{parentName:"li"},"web()")," function and ",(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/matchers#byidid"},(0,i.kt)("inlineCode",{parentName:"a"},"by.id()"))," matcher to locate a web view by its accessibility identifier."),(0,i.kt)("li",{parentName:"ol"},"We use ",(0,i.kt)("inlineCode",{parentName:"li"},"myWebView.element()")," method and ",(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebidid"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.id()"))," web matcher to find an HTML element inside that web view."),(0,i.kt)("li",{parentName:"ol"},"We run the same expectation (to have text) as in the previous example.")),(0,i.kt)("h2",{id:"matchers"},"Matchers"),(0,i.kt)("p",null,"Web view matchers are used to find elements within a web view:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebidid"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.id()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebclassnameclassname"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.className()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebcssselectorcssselector"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.cssSelector()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebnamename"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.name()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebxpathxpath"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.xpath()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebhrefhref"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.href()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebhrefcontainshref"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.hrefContains()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#bywebtagtag"},(0,i.kt)("inlineCode",{parentName:"a"},"by.web.tag()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#atindexindex"},(0,i.kt)("inlineCode",{parentName:"a"},"atIndex()")))),(0,i.kt)("h3",{id:"bywebidid"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.id(id)")),(0,i.kt)("p",null,"Match elements with the specified accessibility identifier."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.id('identifier'));\n")),(0,i.kt)("h3",{id:"bywebclassnameclassname"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.className(className)")),(0,i.kt)("p",null,"Match elements with the specified CSS class name."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.className('className'));\n")),(0,i.kt)("h3",{id:"bywebcssselectorcssselector"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.cssSelector(cssSelector)")),(0,i.kt)("p",null,"Match elements with the specified CSS selector."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.cssSelector('#cssSelector'));\n")),(0,i.kt)("h3",{id:"bywebnamename"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.name(name)")),(0,i.kt)("p",null,"Match form input elements with the specified ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Input#name"},(0,i.kt)("inlineCode",{parentName:"a"},"name")," attribute"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.name('name'));\n")),(0,i.kt)("h3",{id:"bywebxpathxpath"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.xpath(xpath)")),(0,i.kt)("p",null,"Match elements with the specified XPath."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.xpath('//*[@id=\"testingh1-1\"]'));\n")),(0,i.kt)("h3",{id:"bywebhrefhref"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.href(href)")),(0,i.kt)("p",null,"Match elements with the specified ",(0,i.kt)("inlineCode",{parentName:"p"},"href"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.href('https://wix.com'));\n")),(0,i.kt)("h3",{id:"bywebhrefcontainshref"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.hrefContains(href)")),(0,i.kt)("p",null,"Match elements that contain the specified ",(0,i.kt)("inlineCode",{parentName:"p"},"href"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.hrefContains('wix'));\n")),(0,i.kt)("h3",{id:"bywebtagtag"},(0,i.kt)("inlineCode",{parentName:"h3"},"by.web.tag(tag)")),(0,i.kt)("p",null,"Match elements with the specified tag."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.tag('h1'));\n")),(0,i.kt)("h3",{id:"atindexindex"},(0,i.kt)("inlineCode",{parentName:"h3"},"atIndex(index)")),(0,i.kt)("p",null,"Choose the element at the specified index."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"web.element(by.web.tag('h1').atIndex(1));\n")),(0,i.kt)("p",null,"Use it sparingly for those rare cases when you cannot make your matcher less ambiguous, so it returns one element only."),(0,i.kt)("h2",{id:"actions"},"Actions"),(0,i.kt)("p",null,"Web view actions are used to interact with elements within a web view:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#tap"},(0,i.kt)("inlineCode",{parentName:"a"},"tap()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#typetexttext-iscontenteditable"},(0,i.kt)("inlineCode",{parentName:"a"},"typeText()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#replacetexttext"},(0,i.kt)("inlineCode",{parentName:"a"},"replaceText()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#cleartext"},(0,i.kt)("inlineCode",{parentName:"a"},"clearText()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#selectalltext"},(0,i.kt)("inlineCode",{parentName:"a"},"selectAllText()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#gettext"},(0,i.kt)("inlineCode",{parentName:"a"},"getText()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#scrolltoview"},(0,i.kt)("inlineCode",{parentName:"a"},"scrollToView()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#focus"},(0,i.kt)("inlineCode",{parentName:"a"},"focus()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#movecursortoend"},(0,i.kt)("inlineCode",{parentName:"a"},"moveCursorToEnd()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#runscriptscript"},(0,i.kt)("inlineCode",{parentName:"a"},"runScript()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#runscriptwithargsscript-args"},(0,i.kt)("inlineCode",{parentName:"a"},"runScriptWithArgs()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#getcurrenturl"},(0,i.kt)("inlineCode",{parentName:"a"},"getCurrentUrl()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#gettitle"},(0,i.kt)("inlineCode",{parentName:"a"},"getTitle()")))),(0,i.kt)("h3",{id:"tap"},(0,i.kt)("inlineCode",{parentName:"h3"},"tap()")),(0,i.kt)("p",null,"Tap the element."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).tap();\n")),(0,i.kt)("h3",{id:"typetexttext-iscontenteditable"},(0,i.kt)("inlineCode",{parentName:"h3"},"typeText(text[, isContentEditable])")),(0,i.kt)("p",null,"Type the specified text into the element."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"isContentEditable")," is an optional parameter that indicates whether the element should be a ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/contentEditable"},"content-editable")," (",(0,i.kt)("inlineCode",{parentName:"p"},"contenteditable"),") element, and defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).typeText('Hello World!');\n")),(0,i.kt)("h3",{id:"replacetexttext"},(0,i.kt)("inlineCode",{parentName:"h3"},"replaceText(text)")),(0,i.kt)("p",null,"Replace the text of the element with the specified text."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This action is currently not supported for content-editable elements.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).replaceText('Hello World!');\n")),(0,i.kt)("h3",{id:"cleartext"},(0,i.kt)("inlineCode",{parentName:"h3"},"clearText()")),(0,i.kt)("p",null,"Clear the text of the element."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This action is currently not supported for content-editable elements.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).clearText();\n")),(0,i.kt)("h3",{id:"selectalltext"},(0,i.kt)("inlineCode",{parentName:"h3"},"selectAllText()")),(0,i.kt)("p",null,"Select all the text of the element."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This action is currently supported for content-editable elements only.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).selectAllText();\n")),(0,i.kt)("h3",{id:"gettext"},(0,i.kt)("inlineCode",{parentName:"h3"},"getText()")),(0,i.kt)("p",null,"Get the text of the element."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const text = await web.element(by.web.id('identifier')).getText();\n")),(0,i.kt)("h3",{id:"scrolltoview"},(0,i.kt)("inlineCode",{parentName:"h3"},"scrollToView()")),(0,i.kt)("p",null,"Scroll to the element until its top is at the top of the viewport."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).scrollToView();\n")),(0,i.kt)("h3",{id:"focus"},(0,i.kt)("inlineCode",{parentName:"h3"},"focus()")),(0,i.kt)("p",null,"Focus on the element."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).focus();\n")),(0,i.kt)("h3",{id:"movecursortoend"},(0,i.kt)("inlineCode",{parentName:"h3"},"moveCursorToEnd()")),(0,i.kt)("p",null,"Move the input cursor to the end of the element's content."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This action is currently supported for content-editable elements only.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await web.element(by.web.id('identifier')).moveCursorToEnd();\n")),(0,i.kt)("h3",{id:"runscriptscript-args"},(0,i.kt)("inlineCode",{parentName:"h3"},"runScript(script[, args])")),(0,i.kt)("p",null,"Run the specified script on the element.\nThe script should be a string that contains a valid JavaScript function.\nIt will be called with that element as the first argument:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const webElement = web.element(by.web.id('identifier'));\nawait webElement.runScript('(el) => el.click()');\n")),(0,i.kt)("p",null,"For convenience, you can pass a function instead of a string, but please note that this will not work if the function uses any variables from the outer scope:"),(0,i.kt)("p",null,"The script can accept additional arguments and return a value. Make sure the values are primitive types or serializable objects, as they will be converted to JSON and back:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const text = await webElement.runScript(function get(element, property) {\n  return element[property];\n}, ['textContent']);\n")),(0,i.kt)("h3",{id:"getcurrenturl"},(0,i.kt)("inlineCode",{parentName:"h3"},"getCurrentUrl()")),(0,i.kt)("p",null,"Get the current URL of the web view."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Although this action returns the URL of the presented web document, it can be called from an inner element only (for example, an iframe id or the HTML) and not from the root native web view element itself.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const url = await web.element(by.web.id('identifier')).getCurrentUrl();\n")),(0,i.kt)("h3",{id:"gettitle"},(0,i.kt)("inlineCode",{parentName:"h3"},"getTitle()")),(0,i.kt)("p",null,"Get the title of the web view."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Although this action returns the title of the presented web document, it can be called from an inner element only (for example, an iframe id or the HTML) and not from the root native web view element itself.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const title = await web.element(by.web.id('identifier')).getTitle();\n")),(0,i.kt)("h2",{id:"expectations"},"Expectations"),(0,i.kt)("p",null,"Web view expectations are used to assert the state of elements within a web view:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#tohavetexttext"},(0,i.kt)("inlineCode",{parentName:"a"},"toHaveText()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#toexist"},(0,i.kt)("inlineCode",{parentName:"a"},"toExist()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/Detox/docs/next/api/webviews#not"},(0,i.kt)("inlineCode",{parentName:"a"},"not")))),(0,i.kt)("h3",{id:"tohavetexttext"},(0,i.kt)("inlineCode",{parentName:"h3"},"toHaveText(text)")),(0,i.kt)("p",null,"Assert that the element has the specified text."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await expect(web.element(by.web.id('identifier'))).toHaveText('Hello World!');\n")),(0,i.kt)("h3",{id:"toexist"},(0,i.kt)("inlineCode",{parentName:"h3"},"toExist()")),(0,i.kt)("p",null,"Assert that the element exists."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await expect(web.element(by.web.id('identifier'))).toExist();\n")),(0,i.kt)("h3",{id:"not"},(0,i.kt)("inlineCode",{parentName:"h3"},"not")),(0,i.kt)("p",null,"Negate the expectation."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await expect(web.element(by.web.id('identifier'))).not.toHaveText('Hello World!');\n")))}m.isMDXComponent=!0}}]);